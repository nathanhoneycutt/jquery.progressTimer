(function(e){e.fn.progressTimer=function(t){var n=e.extend({},e.fn.progressTimer.defaults,t);this.each(function(){e(this).empty();var t=e("<div>").addClass("progress active progress-striped");var r=e("<div>").addClass("progress-bar").addClass(n.baseStyle).attr("role","progressbar").attr("aria-valuenow","0").attr("aria-valuemin","0").attr("aria-valuemax",n.timeLimit);r.appendTo(t);t.appendTo(e(this));var i=new Date;var s=n.timeLimit*1e3;var o=window.setInterval(function(){var e=new Date-i,t=e/s*100;r.width(t+"%").attr("aria-valuenow",t);if(s-e<=5e3)r.removeClass(n.baseStyle).removeClass(n.completeStyle).addClass(n.warningStyle);if(e>=s){window.clearInterval(o);r.removeClass(n.baseStyle).removeClass(n.warningStyle).addClass(n.completeStyle);n.onFinish.call(this)}},250)});return this};e.fn.progressTimer.defaults={timeLimit:60,warningThreshold:5,onFinish:function(){},baseStyle:"",warningStyle:"progress-bar-danger",completeStyle:"progress-bar-success"}})(jQuery)